<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lacrosse Play Designer</title>
<style>
body { margin:0; background:#2b2b2b; color:white; font-family:Arial,sans-serif; display:flex; flex-direction:column; align-items:center;}
#field { background:green; width:800px; height:500px; border:5px solid white; position:relative; overflow:hidden;}
.player { width:25px; height:25px; border-radius:50%; background:yellow; border:2px solid black; color:black; position:absolute; transform:translate(-50%,-50%); display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold; user-select:none; z-index:10; }
.ball { width:10px; height:10px; border-radius:50%; background:orange; position:absolute; transform:translate(-50%, -50%); pointer-events:none; z-index:12;}
.route-dot { width:12px; height:12px; border-radius:50%; background:orange; position:absolute; transform:translate(-50%,-50%); z-index:11; }
#controls { margin:10px; }
button, select, input { margin:2px; padding:6px 12px; border:none; border-radius:5px; cursor:pointer; background:#444; color:white;}
button:hover, select:hover, input:hover { background:#666; }
canvas { position:absolute; top:0; left:0; pointer-events:none; }
#linesCanvas { z-index:0; }
#routeCanvas { z-index:1; pointer-events:none; }
.route-buttons { display:inline-flex; gap:2px; }
</style>
</head>
<body>
<h2>Lacrosse Play Designer</h2>
<div id="controls">
<input id="playName" placeholder="Play Name">
<button onclick="savePlay()">Save Play</button>
<select id="savedPlays" onchange="loadPlay()"></select>
<button onclick="deletePlay()">Delete Play</button>
<br>
<select id="roleSelect">
<option value="A">Attack</option>
<option value="M">Midfield</option>
<option value="D">Defense</option>
<option value="SSDM">SSDM</option>
<option value="G">Goalie</option>
</select>
<button onclick="addPlayer()">Add Player</button>
<button onclick="startAnimation()">Start Play</button>
<button onclick="resetPlay()">Reset Routes</button>
<button onclick="exportPDF()">Export PDF</button>
<button onclick="deleteSelectedPlayer()">Delete Player</button>
<button onclick="toggleBall()">Toggle Ball</button>
<br>
<div class="route-buttons">
<select id="routeTypeSelect">
<option value="high">High Curve</option>
<option value="slight">Slight Curve</option>
<option value="hook">Hook</option>
</select>
<button onclick="addRoute()">Add Route</button>
<button onclick="toggleCurveDirection()">Toggle Curve</button>
</div>
<br>
<select id="fieldMode" onchange="toggleFieldMode()">
<option value="full">Full Field</option>
<option value="half">Half Field</option>
</select>
</div>
<div id="field">
<canvas id="linesCanvas" width="800" height="500"></canvas>
<canvas id="routeCanvas" width="800" height="500"></canvas>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
// JavaScript code goes here (the full code from the last working version)
</script>
</body>
</html>
